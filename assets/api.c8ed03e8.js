import{o,c as n,t as c,m as d,G as g,I as y,a as s,n as v,J as k,K as S,k as u,j as T,H as f,F as m,g as x}from"./vendor.309dbb5d.js";import{_ as b,a as w}from"./index.3c762820.js";const C={props:{disabled:{type:Boolean,default:!1},labelEnableText:{type:String,default:"On"},labelDisableText:{type:String,default:"Off"},id:{type:String,default:"primary"},defaultState:{type:Boolean,default:!1}},data(){return{currentState:this.defaultState}},watch:{defaultState:function(){this.currentState=Boolean(this.defaultState)}},computed:{isActive(){return this.currentState},enableText(){return this.labelEnableText},disabledText(){return this.labelDisableText},checkedValue:{get(){return this.currentState},set(e){this.currentState=e,this.$emit("change",e)}}}},V=e=>(k("data-v-adade420"),e=e(),S(),e),E=["for"],X={key:0,class:"toggle__label"},B={key:1,class:"toggle__label"},j=["disabled","id"],I=V(()=>s("span",{class:"toggle__switch"},null,-1));function N(e,l,r,_,t,a){return o(),n("label",{for:r.id+"_button",class:v([{active:a.isActive},"toggle__button"])},[a.isActive?(o(),n("span",X,c(a.enableText),1)):d("",!0),a.isActive?d("",!0):(o(),n("span",B,c(a.disabledText),1)),g(s("input",{type:"checkbox",disabled:r.disabled,id:r.id+"_button","onUpdate:modelValue":l[0]||(l[0]=p=>a.checkedValue=p)},null,8,j),[[y,a.checkedValue]]),I],10,E)}var P=b(C,[["render",N],["__scopeId","data-v-adade420"]]);const A={data(){return{nodes:[],search:this.$route.query.search||"",post_get:!1,res:"",error:""}},methods:{add_node(){!this.node_input||this.nodes.includes(this.node_input)||(this.nodes.push(this.node_input),this.node_input="")},remove_node(){this.nodes=this.nodes.filter(e=>e!==this.node_input)},submit(e){console.log(e)},toggle_post_get(e){typeof e=="boolean"&&(console.log("toggle",e),this.post_get=e)},post_transaction(e){const l=Transaction.minify(this.transaction);this.error="",this.res="";const r=document.createElement("form");r.style.visibility="hidden",document.body.appendChild(r),r.action="http://"+e+"/transaction",r.method="post",r.target="_blank";for(const _ in l){const t=document.createElement("input");t.name=_,t.value=l[_],r.appendChild(t)}r.submit(),r.remove()}},mounted(){document.title="Viscoin.net - Explorer (Legacy)",this.$refs.input.focus(),this.$refs.input.select(),localStorage.nodes&&(this.nodes=JSON.parse(localStorage.nodes));try{this.transaction=JSON.parse(this.search);for(const e in this.transaction)typeof this.transaction[e]=="object"&&(this.transaction[e]=Buffer.from(this.transaction[e]).toString("binary"));this.post_get=!0}catch{}},watch:{nodes:{handler(e){localStorage.nodes=JSON.stringify(e)},deep:!0}}},L={class:"prose prose-discord dark:prose-light lg:prose-lg mx-auto pb-8 w-full max-w-3xl sm:mx-auto px-8 sm:px-16 flex flex-col gap-2 md:px-12"},O={class:"flex justify-between"},D=s("div",{class:"flex flex-col"},[s("h3",null,"Explorer (Legacy)"),s("p",{style:{"font-size":"1rem"}}," This tool aims to make it easier to interact with any Viscoin node's HTTP API. ")],-1),J={class:"flex flex-col align-center justify-center"},z={style:{"font-size":"0.8rem"}},R={key:0,target:"_blank",href:"https://github.com/viscoin/viscoin/blob/main/config/settings.json#L55&L56"},G={key:1,target:"_blank",href:"https://github.com/viscoin/viscoin/blob/main/config/settings.json#L43&L52"},H=["placeholder"],U={key:0,class:"prose prose-discord dark:prose-light lg:prose-lg px-6 mx-auto pb-8 w-full grid gap-y-5 gap-x-10 max-w-7xl grid-cols-1 sm:grid-cols-2 xl:grid-cols-3"},q=["href"],F={key:1,class:"prose prose-discord dark:prose-light lg:prose-lg px-6 mx-auto pb-8 w-full grid gap-y-5 gap-x-10 max-w-7xl grid-cols-1 sm:grid-cols-2 xl:grid-cols-3"},M={class:"mx-auto"},K=s("div",{style:{"font-size":".8rem"}}," IP-address of Viscoin HTTP API ",-1),Q={class:"max-w-3xl sm:mx-auto text-center px-8 sm:px-16 flex gap-10 mb-40 md:px-12 justify-center",style:{"user-select":"none"}},W={key:2},Y=s("h3",null,"Error",-1),Z={key:3},$=s("h3",null,"Response",-1);function ee(e,l,r,_,t,a){const p=P,h=w;return o(),n("div",L,[s("div",O,[D,s("div",J,[u(p,{defaultState:t.post_get,labelEnableText:"POST",labelDisableText:"GET",onChange:a.toggle_post_get},null,8,["defaultState","onChange"])])]),s("div",z,[T(c(t.post_get?"Post data":"Search query")+", ",1),t.post_get?(o(),n("a",R,"Post References")):(o(),n("a",G,"Get References"))]),g(s("input",{ref:"input",class:"bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-black dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-900 dark:hover:text-white mb-6",type:"text","onUpdate:modelValue":l[0]||(l[0]=i=>t.search=i),placeholder:t.post_get?"Enter transaction JSON here...":"block, peers, block/123, balance/address"},null,8,H),[[f,t.search]]),t.post_get?d("",!0):(o(),n("div",U,[(o(!0),n(m,null,x(t.nodes,i=>(o(),n("a",{href:"http://"+i+"/"+t.search+"?b=1",target:"_blank",rel:"noopener",class:"mx-auto"},[u(h,{class:"w-40 overflow-x-auto custom-scroll",text:i},null,8,["text"])],8,q))),256))])),t.post_get?(o(),n("div",F,[(o(!0),n(m,null,x(t.nodes,i=>(o(),n("div",M,[u(h,{onClick:te=>a.post_transaction(i),class:"w-40 overflow-x-auto custom-scroll",text:i},null,8,["onClick","text"])]))),256))])):d("",!0),K,g(s("input",{class:"bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-black dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-900 dark:hover:text-white mb-6",type:"text","onUpdate:modelValue":l[1]||(l[1]=i=>e.node_input=i),placeholder:"0.0.0.0/0, 192.168.0.0/24, XXXXXXXXXXX.onion"},null,512),[[f,e.node_input]]),s("div",Q,[u(h,{onClick:a.remove_node,text:"Remove"},null,8,["onClick"]),u(h,{onClick:a.add_node,text:"Add"},null,8,["onClick"])]),t.error?(o(),n("div",W,[Y,s("p",null,c(t.error),1)])):t.res?(o(),n("div",Z,[$,s("p",null,c(t.res),1)])):d("",!0)])}var ne=b(A,[["render",ee]]);export{ne as default};
